# SpendFlow: Финансы — учет расходов

## Описание
**SpendFlow** — учебный проект для учета личных расходов: добавление трат (вручную и по фото чека), автоматическая категоризация, контроль бюджета и прогноз трат на следующий месяц.

Цель проекта: собрать понятный **дашборд расходов** и базовую “умную” логику вокруг трат (категории, лимиты, прогноз).

---

## Функциональность (4 этапа)

### 1) Контроль бюджета
- Задача: контроль лимитов по бюджету
- Правило: **алерт при перерасходе** (например, при превышении лимита категории или общего бюджета)

### 2) Категоризация трат
- Задача: автоматически определять категорию по описанию
- Пример: `"Uber" → "Transport"`
- Подход: старт — правила/словарь, далее — ML-модель (по датасету)

### 3) Чтение чеков (OCR)
- Задача: распознать чек и вытащить ключевые поля
- Цель: извлечь **сумму “Итого”** (и по возможности дату)

### 4) Интеграция и прогноз (Time Series)
- Задача: прогноз трат на **следующий месяц**
- UI: дашборд с графиком расходов + **красная зона лимита**

---

## Tech Stack
Текущее:
- `streamlit` — UI/дашборд и загрузка чеков
- `pandas` — хранение/агрегации/аналитика
- `opencv-python-headless` — предобработка изображений чеков (контраст, шум, обрезка)
- `notebook` — эксперименты и исследование данных

Планируется по мере усложнения (опционально):
- OCR: `pytesseract` / `easyocr`
- ML/категоризация: `scikit-learn`
- Прогноз: `statsmodels` / `prophet`

---

## Структура проекта
data/ # данные (чеки/таблицы), локальные датасеты
docs/ # документация (скриншоты/схемы/описания)
notebooks/ # эксперименты и исследования в Jupyter
src/
main.py # точка входа (Streamlit app)
.gitignore
Pipfile
Pipfile.lock
README.md

---

## Архитектура (потоки данных)
```mermaid
graph TD
    U[Пользователь] -->|Трата или фото| UI[Streamlit UI]

    UI -->|Описание| CAT[Категоризация трат]
    UI -->|Изображение| PRE[OpenCV предобработка]
    PRE --> OCR[OCR модуль]
    OCR -->|Сумма Итого и дата| PARSE[Парсер полей]

    CAT --> STORE[Хранилище CSV или DataFrame]
    PARSE --> STORE

    STORE --> BUD[Контроль бюджета и лимитов]
    STORE --> TS[Прогноз трат Time Series]

    BUD -->|Алерт лимита| UI
    TS -->|Прогноз на месяц| UI
    STORE -->|Графики и таблицы| UI